<!-- WHEN INSIDE IFRAME, accessing the 'global' variables by calling on
    "parent....". using "window" will not work as it is in a "child" window!-->
<head>
  <script src="d3.min.js"></script>
  <script src="c3.min.js"></script>
  <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
  <link rel="stylesheet" type="text/css" href="../css/c3.min.css" />
  <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css" />
</head>

<div class="row">
  <div class="col-xs-12">
    <h1 id="chartTitle"></h1>
  </div>
</div>
<div class="row">
  <div class="col-xs-3" id="buttonArea">
    [[button area]]
   
  </div>
  <div class="col-xs-9" id="chart" style="min-height:500px;">
    <!-- wE MAY HAVE TO CHANGE THE PATH OF BARS.JS BECAUSE JUSTIFRAME SHOULDN'T
    BE IN THE JS FOLDER-->
  </div>
</div>

  <script>
    var title = "";
    var count = 0;
    var scriptURL;

    $('#Education_Button, #Industry_Button, #Marital_Status_Button', parent.top.document).each(function() {
      if( $(this).attr('name') == 'active' ) {
        title = $(this).text();
      }
    });

    $('#region_li li', parent.top.document).each(function() {
      if( $(this).hasClass('active_region') ) {
        count++;
      }
    });

    var script = document.createElement('script');

    if( count == 1) {
      url = "pie.js"
    }

    else if ( count > 1 ) {
      url = "bars.js"
    }

    script.src=url;
    $("body").append(script);

    console.log(title);
    document.getElementById("chartTitle").innerHTML = title;
  </script>
